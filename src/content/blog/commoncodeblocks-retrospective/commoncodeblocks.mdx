---
title: '常用代码块合集'
description: '常用的kotlin, python, shell, regex等代码块合集'
date: 2025-04-10
tags: ['kotlin', 'python', 'regex', 'linux', 'shell', 'javascript', 'nginx']
image: 'assets/commoncodebanner.webp'
authors: ['jimlee']
---

## kotlin 
### 添加全局logger
```kotlin title="kotlin"
val <T : Any> T.LOGGER: Logger
    get() = LoggerFactory.getLogger(this::class.java)
```

## linux
### 打印文件树
```shellscript title="shell"
find . -maxdepth 2 | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
```
### linux lo 网卡缺少ip
```shellscript
ip addr add 127.0.0.1/8 dev lo
ip addr add ::1/128 dev lo
```

## nginx
### nginx反代后跳转变成原始ip+端口号
加上如下配置
```shellscript
    server_name_in_redirect off;
    port_in_redirect off;
```